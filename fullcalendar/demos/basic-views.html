<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<link href='../build/out/fullcalendar.css' rel='stylesheet' />
<link href='../build/out/fullcalendar.print.css' rel='stylesheet' media='print' />
<script src='../lib/jquery/jquery.js'></script>
<script src='../lib/handlebars.runtime.min.js'></script>
<!--<script src='../lib/jquery-ui/ui/jquery-ui.js'></script>-->
<script src='../build/out/fullcalendar.js'></script>
<script>

	$(document).ready(function() {
	

		
	});

</script>
<style>

	body {
		margin-top: 40px;
		text-align: center;
		font-size: 14px;
		font-family: "Lucida Grande",Helvetica,Arial,Verdana,sans-serif;
        background-color: #93E4FF;
		}

	#calendar {
		width: 940px;
		margin: 0 auto;
		}

</style>
</head>
<body>
<div id='calendar'></div>
<script>
    if (!Array.prototype.some)
    {
        Array.prototype.some = function(fun /*, thisArg */)
        {
            'use strict';

            if (this === void 0 || this === null)
                throw new TypeError();

            var t = Object(this);
            var len = t.length >>> 0;
            if (typeof fun !== 'function')
                throw new TypeError();

            var thisArg = arguments.length >= 2 ? arguments[1] : void 0;
            for (var i = 0; i < len; i++)
            {
                if (i in t && fun.call(thisArg, t[i], i, t))
                    return true;
            }

            return false;
        };
    }
</script>
<script>
    var date = new Date();
    var d = date.getDate();
    var m = date.getMonth();
    var y = date.getFullYear();
    var currentMonth;
    var calendar = $('#calendar').fullCalendar({
        header: {
            left: 'prev,next today',
            center: 'title',
            right: 'month,basicWeek,basicDay'
        },
//			editable: true,
        events: [
            {
                title: 'All Day Event',
                start: new Date(y, m, 1)
            },
            {
                title: 'fuck Day Event',
                start: new Date(y, m, 1)
            },
            {
                title: 'Long Event',
                start: new Date(y, m, d)
            },
            {
                id: 999,
                title: 'Repeating Event',
                start: new Date(y, m, d-3),
                allDay: false
            },
            {
                id: 999,
                title: 'Repeating Event',
                start: new Date(y, m, d+4),
                allDay: false
            },
            {
                title: 'Meeting',
                start: new Date(y, m, d),
                allDay: false
            },
            {
                title: 'Lunch',
                start: new Date(1393839157502),
//					end: new Date(y, m, d, 14, 0),
//					allDay: false
            },
            {
                title: 'Lunchxxx',
                start: new Date(1393839157502),
//					end: new Date(y, m, d, 14, 0),
//					allDay: false
            },
            {
                title: 'Birthday Party',
                start: new Date(y, m, d+1),
//                end: new Date(y, m, d+1, 22, 30),
                allDay: false
            },
            {
                title: 'Click for Google',
                start: new Date(y, m, 28),
                end: new Date(y, m, 29),
                url: 'http://google.com/'
            }
        ],
        eventMouseover:function(){
            console.log(1000)
        }
    });
    $('.fc-button-prev,.fc-button-next').on('click',function(){
        currentMonth = $('#calendar').fullCalendar('getDate').getMonth() + 1;
        !$('#calendar').fullCalendar('clientEvents').some(function(i){
            return i.start.getMonth() + 1 == currentMonth
        }) && $('#calendar').fullCalendar('addEventSource',
                [

                    {
                        title: 'fuck',
                        start: new Date(y, currentMonth -1 , d)
                    }

                ]
        );
    });

</script>
</body>
</html>
